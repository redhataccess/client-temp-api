"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function System(){var e=(0,_urijs2.default)(""),t=new _URITemplate2.default("/{root}/{apiModule}{?account_number,query*}"),r=new _URITemplate2.default("/{root}/{apiModule}/{id}{?account_number,query*}"),n=new _URITemplate2.default("/{root}/{apiModule}/{id}/{endpoint}{?account_number,query*}"),a={root:null,apiModule:"systems",id:null,endpoint:null,account_number:null,query:null};return{url:e.toString(),init:function(e,t){a.root=e,a.account_number=t},getSingleSystem:function(t){return a.id=t,a.query=null,e.href(r.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemTypes:function(){return e=(0,_urijs2.default)(t.expand({root:templateParms.root,apiModule:"system_types"})),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystems:function(){return a.query=null,e.href(t.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemLinks:function(t,r){return a.id=t,a.query=r,a.endpoint="links",e.href(n.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},headSystemsLatest:function(r){return a.query=r,e.href(t.expand(a)),e.normalize(),fetch(e.toString(),{method:"HEAD",credentials:"same-origin"}).then(checkStatus).catch(handleError)},getSystemsLatest:function(r){return a.query=r,e.href(t.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemStatus:function(t){return a.id="status",a.query=t,e.href(r.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemSummary:function(r){return a.query=r,a.query.summary=!0,e.href(t.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemReports:function(t){return a.id=t,a.endpoint="reports",a.query=null,e.href(n.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},getSystemMetadata:function(t){return a.id=t,a.endpoint="metadata",a.query=null,e.href(n.expand(a)),e.normalize(),fetch(e.toString(),{credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)},deleteSystem:function(t){return a.id=t,a.query=null,e.href(r.expand(a)),e.normalize(),fetch(e.toString(),{method:"DELETE",credentials:"same-origin"}).then(checkStatus).then(formatJSON).catch(handleError)}}}function checkStatus(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);return t.response=e,Promise.reject(t)}function parseJSON(e){return e.json()}function formatJSON(e){return e.data=e.json(),e}function handleError(e){throw console.log("request failed",e.statusText),e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.System=System;var _urijs=require("urijs"),_urijs2=_interopRequireDefault(_urijs),_URITemplate=require("urijs/src/URITemplate"),_URITemplate2=_interopRequireDefault(_URITemplate),_bluebird=require("bluebird"),_bluebird2=_interopRequireDefault(_bluebird);Promise=_bluebird2.default,Promise.config({warnings:!1}),"fetch"in window||require("fetch");